<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>การจำลองด้วย Modelsim</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding-top: 56px; }
        .article-header {
            background-color: #f8f9fa;
            padding: 2rem 1rem;
            margin-bottom: 2rem;
        }
        .article-content img {
            max-width: 100%;
            height: auto;
            margin-bottom: 1rem;
        }
        /* Styles for code blocks from MS Word */
        p.MsoNormal, li.MsoNormal, div.MsoNormal {
            margin-bottom: 1rem;
            line-height: 1.8;
            font-size: 1.1rem;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">FPGATHAILAND</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownAries" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Aries Board
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownAries">
                            <li><a class="dropdown-item" href="AriesBoard_ep1.html">ตอนที่ 1: การออกแบบโปรเจค</a></li>
                            <li><a class="dropdown-item" href="AriesBoard_ep2.html">ตอนที่ 2: Version A.1</a></li>
                            <li><a class="dropdown-item" href="AriesBoard_ep3.html">ตอนที่ 3: ออกแบบ FPGA</a></li>
                            <li><a class="dropdown-item" href="AriesBoard_ep4.html">ตอนที่ 4: PCI driver for linux</a></li>
                            <li><a class="dropdown-item" href="AriesBoard_ep5.html">ตอนที่ 5: PCI driver for windows</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle active" href="#" id="navbarDropdownPynq" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            PYNQ-Z2
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownPynq">
                            <li><a class="dropdown-item" href="pynq-z2-ai_th.html">AI (DPU)</a></li>
                            <li><a class="dropdown-item" href="pynq-z2-hls_th.html">HLS</a></li>
                            <li><a class="dropdown-item" href="pynq-z2-modelsim_th.html">Modelsim</a></li>
                            <li><a class="dropdown-item" href="pynq-z2-vivado_th.html">Vivado</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="row">
            <div class="col-lg-10 mx-auto article-content">
                <div class="article-header rounded">
                    <h1>การจำลองด้วย Modelsim</h1>
                </div>
                <div class=WordSection1 style='layout-grid:18.0pt'>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<h1 align=left style='margin-left:.25in;text-align:left;text-indent:-.25in'><a
name="_Toc208827173"><span style='font-family:"ＭＳ 明朝",serif'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-family:"ＭＳ 明朝",serif'>การจำลองด้วย Modelsim</span></a></h1>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>โดยปกติแล้ว Vivado จะใช้ xsim เป็นเครื่องมือจำลองเริ่มต้น แต่ก็มีวิธีการจำลองด้วย Modelsim เช่นกัน ขั้นตอนการจำลองด้วย Modelsim มีดังนี้</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>1．<span
style='font:7.0pt "Times New Roman"'> </span></span><span style='font-family:
"ＭＳ 明朝",serif'>คอมไพล์ไลบรารีของ Xilinx ด้วย Modelsim</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>2．<span
style='font:7.0pt "Times New Roman"'> </span></span><span style='font-family:
"ＭＳ 明朝",serif'>สร้างสคริปต์การจำลองบน Vivado</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>3．<span
style='font:7.0pt "Times New Roman"'> </span></span><span style='font-family:
"ＭＳ 明朝",serif'>เปิด Modelsim และทำการจำลอง</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>4．<span
style='font:7.0pt "Times New Roman"'> </span></span><span
style='font-family:"ＭＳ 明朝",serif'>แก้ไข/สร้าง </span><span style='font-family:"ＭＳ 明朝",serif'>
test_bench <span lang=JA>โดยอิงจากข้อ ③ แล้วทำการจำลอง</span></span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span
style='font-family:"ＭＳ 明朝",serif'>※ เนื่องจาก AXI Verification IP จำเป็นต้องใช้ใบอนุญาต เมื่อทำการจำลองด้วย Modelsim จะเกิดข้อผิดพลาดเกี่ยวกับใบอนุญาต<span
style='background:yellow'>（หากไม่มีใบอนุญาต </span></span><span style='background:yellow'>Modelsim<span
lang=JA> แบบเสียเงิน จะไม่สามารถจำลอง </span>AXI Verification IP<span lang=JA> ได้）</span></span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=TH
style='font-family:"Cordia New",sans-serif'>&nbsp;</span></p>

<span style='font-size:10.5pt;font-family:"ＭＳ 明朝",serif'><br clear=all
style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<h2 style='margin-left:28.35pt;text-indent:-28.35pt'><a name="_Toc208827174"><span
style='font-family:"ＭＳ 明朝",serif'>1.1.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:"ＭＳ 明朝",serif'>การคอมไพล์ไลบรารีของ Xilinx ด้วย Vivado</span></a></h2>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>เปิด Vivado แล้วคลิกที่ Tool　→　Compile Simulation Libraries</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=265 height=163
src="pynq-z2-modelsim_th_files/image001.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>ระบุตำแหน่งของ Compiled library location<span lang=JA>　และ　</span>Simulator executable
path<span lang=JA>　แล้วคลิก</span> 「Compile」</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='position:
absolute;z-index:251711488;margin-left:396px;margin-top:100px;width:104px;
height:38px'><img width=104 height=38 src="pynq-z2-modelsim_th_files/image002.png"
alt=Pathを指定する></span><span style='position:absolute;z-index:251713536;
margin-left:264px;margin-top:120px;width:134px;height:51px'><img width=134
height=51 src="pynq-z2-modelsim_th_files/image003.png"></span><span
style='position:absolute;z-index:251707392;margin-left:439px;margin-top:245px;
width:114px;height:38px'><img width=114 height=38
src="pynq-z2-modelsim_th_files/image004.png" alt=未定でもOKだそう></span><span
style='position:absolute;z-index:251709440;margin-left:293px;margin-top:205px;
width:144px;height:41px'><img width=144 height=41
src="pynq-z2-modelsim_th_files/image005.png"></span><span style='position:absolute;
z-index:251705344;margin-left:4px;margin-top:196px;width:452px;height:18px'><img
width=452 height=18 src="pynq-z2-modelsim_th_files/image006.png"></span><span
style='position:absolute;z-index:251702272;margin-left:294px;margin-top:43px;
width:200px;height:38px'><img width=200 height=38
src="pynq-z2-modelsim_th_files/image007.png" alt="Familyはそのまま\"All\"でも可能"></span><span
style='position:absolute;z-index:251703296;margin-left:164px;margin-top:80px;
width:132px;height:45px'><img width=132 height=45
src="pynq-z2-modelsim_th_files/image008.png"></span><span style='position:absolute;
z-index:251701248;margin-left:8px;margin-top:120px;width:154px;height:22px'><img
width=154 height=22 src="pynq-z2-modelsim_th_files/image009.png"></span><span
style='position:absolute;z-index:251699200;margin-left:4px;margin-top:158px;
width:452px;height:37px'><img width=452 height=37
src="pynq-z2-modelsim_th_files/image010.png"></span><span lang=TH
style='font-family:"ＭＳ 明朝",serif'><img class="img-fluid rounded mx-auto d-block" width=464 height=350
src="pynq-z2-modelsim_th_files/image011.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></span></p>

<span style='font-size:10.5pt;font-family:"ＭＳ 明朝",serif'><br clear=all
style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>เมื่อคอมไพล์เสร็จสิ้น ไฟล์ modelsim.ini จะถูกสร้างขึ้นด้วย (เป็นสคริปต์เริ่มต้นสำหรับโหลดไลบรารี Xilinx เมื่อเปิด Modelsim)</span></p>

<p class=MsoNormal><img class="img-fluid rounded mx-auto d-block" width=527
height=164 src="pynq-z2-modelsim_th_files/image012.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span
style='font-family:"ＭＳ 明朝",serif'>※ 1. การคอมไพล์ IP ทั้งหมดของ Xilinx ใช้เวลานาน (ประมาณ 1 ชั่วโมง)</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span
style='font-family:"ＭＳ 明朝",serif'>※ 2. จากการทดลองด้วย modelsim 10.5b(Quartus 17.1) และ Vivado 2022.1 พบว่ามีโมดูลที่คอมไพล์ไม่ผ่าน 4 ตัว หากการออกแบบใน Vivado ไม่ได้ใช้โมดูลเหล่านั้น ก็ไม่น่าจะมีปัญหา</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=624 height=147
src="pynq-z2-modelsim_th_files/image013.png"
alt="A screenshot of a computer error\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=624 height=54
src="pynq-z2-modelsim_th_files/image014.png"></p>

<span style='font-size:10.5pt;font-family:"ＭＳ 明朝",serif'><br clear=all
style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span
style='font-family:"ＭＳ 明朝",serif'>※ 3. หน้าจอในกรณีที่ระบุ Path ของ GCC</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=523 height=356
src="pynq-z2-modelsim_th_files/image015.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span
style='font-family:"ＭＳ 明朝",serif'>※ 4. AXI BFM จำเป็นต้องใช้ใบอนุญาตหรือไม่?</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=624 height=125
src="pynq-z2-modelsim_th_files/image016.png"
alt="A blue and white text\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<span style='font-size:10.5pt;font-family:"ＭＳ 明朝",serif'><br clear=all
style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<h2 style='margin-left:28.35pt;text-indent:-28.35pt'><a name="_Toc208827175"><span
style='font-family:"ＭＳ 明朝",serif'>1.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:"ＭＳ 明朝",serif'>การจำลองด้วย Modelsim (สำหรับดีไซน์ที่ไม่มี Xilinx VIP)</span></a></h2>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>1．<span
style='font:7.0pt "Times New Roman"'> </span></span><span style='font-family:
"ＭＳ 明朝",serif'>การส่งออกการจำลองบน Vivado</span></p>

<p class=MsoNormal align=left style='text-align:left'><span
style='font-family:"ＭＳ 明朝",serif'>สร้างฟิลเตอร์ชื่อ 「sim」 ในโปรเจกต์ แล้วคลิก 「Export Simulation」 ใน Vivado</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=306 height=252
src="pynq-z2-modelsim_th_files/image017.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=505 height=328
src="pynq-z2-modelsim_th_files/image018.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<span style='font-size:10.5pt;font-family:"ＭＳ 明朝",serif'><br clear=all
style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>2．<span
style='font:7.0pt "Times New Roman"'> </span></span><span style='font-family:
"ＭＳ 明朝",serif'>การติดตั้งการจำลอง</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>ภายใต้ 「sim」</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>do compile.do</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>do simulate.do</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>※ เพื่อไม่ให้ modelsim ปิดตัวเองหลังจากการจำลองเสร็จสิ้น ให้ใส่คอมเมนต์หน้าคำสั่ง quit -force</span></p>

<p class=MsoNormal><img class="img-fluid rounded mx-auto d-block" width=240
height=52 src="pynq-z2-modelsim_th_files/image019.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>※ หากเป็นดีไซน์ที่มี Xilinx VIP จะเกิดข้อผิดพลาดดังภาพด้านล่างและไม่สามารถทำการจำลองได้</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=624 height=358
src="pynq-z2-modelsim_th_files/image020.png"
alt="A computer screen with a message\n\nAI-generated content may be incorrect."></p>

<span style='font-size:10.5pt;font-family:"ＭＳ 明朝",serif'><br clear=all
style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<h2 style='margin-left:28.35pt;text-indent:-28.35pt'><a name="_Toc208827176"><span
style='font-family:"ＭＳ 明朝",serif'>1.3.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:"ＭＳ 明朝",serif'>การรันการจำลองด้วย UVVM + Modelsim</span></a></h2>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=450 height=283
src="pynq-z2-modelsim_th_files/image021.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=508 height=27
src="pynq-z2-modelsim_th_files/image022.png"
alt="A close-up of a computer screen\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=450 height=35
src="pynq-z2-modelsim_th_files/image023.png"
alt="A green and black text\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=419 height=27
src="pynq-z2-modelsim_th_files/image024.png"></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>xil_defaultlib uvvm_util.tb_axs_iomap xil_defaultlib.glbl</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>cd
 d:/xilinx/modelsim/AXI_Basics_3/UVVM_Light-master/sim/</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>do
./compile_and_run_demo_tb.do</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>do ./sim.do</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><img class="img-fluid rounded mx-auto d-block" width=624
height=545 src="pynq-z2-modelsim_th_files/image025.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<span style='font-size:10.5pt;font-family:"ＭＳ 明朝",serif'><br clear=all
style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<h2 style='margin-left:28.35pt;text-indent:-28.35pt'><a name="_Toc208827177"><span
style='font-family:"ＭＳ 明朝",serif'>1.4.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-family:"ＭＳ 明朝",serif'>วิธีการจำลองดีไซน์ที่มี Zynq ด้วย UVVM + Modelsim</span></a></h2>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>1．<span
style='font:7.0pt "Times New Roman"'> </span></span><span style='font-family:
"ＭＳ 明朝",serif'>การรับซอร์สโค้ด UVVM</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=413 height=133
src="pynq-z2-modelsim_th_files/image026.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>คัดลอกไฟล์ modelsim.ini (สำหรับโหลดไลบรารี Xilinx) ไปยัง UVVM_Light-master\nsim</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=408 height=99
src="pynq-z2-modelsim_th_files/image027.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>2．<span
style='font:7.0pt "Times New Roman"'> </span></span><span style='font-family:
"ＭＳ 明朝",serif'>การส่งออกการจำลองบน Vivado</span></p>

<p class=MsoNormal align=left style='text-align:left'><span
style='font-family:"ＭＳ 明朝",serif'>สร้างฟิลเตอร์ชื่อ 「sim」 ในโปรเจกต์ แล้วคลิก 「Export Simulation」 ใน Vivado</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=267 height=251
src="pynq-z2-modelsim_th_files/image028.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=381 height=257
src="pynq-z2-modelsim_th_files/image029.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>3．<span
style='font:7.0pt "Times New Roman"'> </span></span><span style='font-family:
"ＭＳ 明朝",serif'>การแก้ไขซอร์สโค้ด</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>- <span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:"ＭＳ 明朝",serif'>Pynq-Z2\sim\compile.do</span></p>

<p class=MsoListParagraph align=left style='margin-left:44.0pt;text-align:left;
text-indent:-22.0pt'><span style='font-family:Wingdings'>Ø<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"ＭＳ 明朝",serif'>เพิ่ม vlib modelsim_lib</span></p>

<p class=MsoListParagraph align=left style='margin-left:44.0pt;text-align:left;
text-indent:-22.0pt'><span style='font-family:Wingdings'>Ø<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"ＭＳ 明朝",serif'>ลบส่วนของ include vip</span></p>

<p class=MsoListParagraph align=left style='margin-left:44.0pt;text-align:left;
text-indent:-22.0pt'><span style='font-family:Wingdings'>Ø<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"ＭＳ 明朝",serif'>ลบส่วนคอมไพล์ของ base_ps7_0_0 (จะใช้เวอร์ชันที่สร้างเอง (พร้อม UVVM) แทน)</span></p>

<p class=MsoListParagraph align=left style='margin-left:44.0pt;text-align:left;
text-indent:-22.0pt'><span style='font-family:Wingdings'>Ø<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"ＭＳ 明朝",serif'>แก้ไข tb_prj_top.v และ glbl.v ดังนี้</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:24.0pt'><span style='font-family:"ＭＳ 明朝",serif'>"../../UVVM_Light-master/tb/tb_prj_top.v" 
</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:24.0pt'><span style='font-family:"ＭＳ 明朝",serif'>"../../sim/modelsim/glbl.v"</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>ในกรณีของการจำลองด้วย Vivado (Xsim) ไฟล์ tb_prj_top.v จะใช้ Xilinx VIP เพื่อควบคุมบัส AXI แต่ในครั้งนี้เราจะใช้ UVVM ในการควบคุม ดังนั้นให้คอมเมนต์ส่วนของ Xilinx VIP ทั้งหมดออก</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=513 height=272
src="pynq-z2-modelsim_th_files/image030.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."><br clear=all
style='page-break-before:always'>
</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>- <span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:"ＭＳ 明朝",serif'>Pynq-Z2\UVVM_Light-master\sim\</span><span
style='font-family:"ＭＳ 明朝",serif'> 
</span><span style='font-family:"ＭＳ 明朝",serif'>compile_and_run_demo_tb.do</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left'><span
style='font-family:"ＭＳ 明朝",serif'>เพิ่มเนื้อหาต่อไปนี้</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in'><span
style='font-family:"ＭＳ 明朝",serif'>do ../../sim/modelsim/compile.do</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in'><span
style='font-family:"ＭＳ 明朝",serif'>vlib uvvm_util</span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:.25in'><span
style='font-family:"ＭＳ 明朝",serif'>eval vcom $compdirectives -work
xil_defaultlib ../tb/base_ps7_0_0.vhd</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=387 height=232
src="pynq-z2-modelsim_th_files/image031.png"
alt="A screenshot of a computer program\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span
style='font-family:"ＭＳ 明朝",serif'>※ ในไฟล์ base_ps7_0_0.vhd เองนั้น จะมีลอจิกสำหรับควบคุมของ UVVM อยู่</span></p>

<p class=MsoNormal align=left style='text-align:left'><span
style='font-family:"ＭＳ 明朝",serif'>※ วางไฟล์ base_ps7_0_0.vhd และ tb_prj_top.v ไว้ที่ Pynq-Z2\UVVM_Light-master\tb\</span></p>

<p class=MsoNormal align=left style='text-align:left'><img class="img-fluid rounded mx-auto d-block" width=433 height=170
src="pynq-z2-modelsim_th_files/image032.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<span style='font-size:10.5pt;font-family:"ＭＳ 明朝",serif'><br clear=all
style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>- <span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:"ＭＳ 明朝",serif'>สร้างไฟล์ sim.do ใน Pynq-Z2\UVVM_Light-master\sim</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>คัดลอกคำสั่ง vsim ที่เขียนไว้ใน Pynq-Z2\sim\simulate.do จากนั้นลบ library ที่มี vip ออก แล้วบันทึกไปยัง Pynq-Z2\UVVM_Light-master\sim\sim.do</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>※ หากใส่ vip library เข้าไปด้วย คาดว่าน่าจะเกิดข้อผิดพลาดเกี่ยวกับใบอนุญาตตอนทำการจำลอง</span></p>

<p class=MsoNormal><img class="img-fluid rounded mx-auto d-block" width=624
height=158 src="pynq-z2-modelsim_th_files/image033.png"
alt="A screenshot of a computer\n\nAI-generated content may be incorrect."></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><img class="img-fluid rounded mx-auto d-block" width=624
height=72 id="Picture 1" src="pynq-z2-modelsim_th_files/image034.png"></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoListParagraph align=left style='margin-left:.25in;text-align:left;
text-indent:-.25in'><span style='font-family:"ＭＳ 明朝",serif'>4．<span
style='font:7.0pt "Times New Roman"'> </span></span><span style='font-family:
"ＭＳ 明朝",serif'>การจำลองด้วย Modelsim</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>เปิด Modelsim</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>cd
 d:/xilinx/modelsim/Pynq-Z2/UVVM_Light-master/sim/</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>do
./compile_and_run_demo_tb.do</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>do ./sim.do</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"ＭＳ 明朝",serif'>&nbsp;</span></p>

</div>
            </div>
        </div>
    </div>

    <footer class="py-4 bg-dark text-white-50 mt-5">
        <div class="container text-center">
            <small>Copyright &copy; FPGATHAILAND</small>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>